<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine üíñ</title>

<style>
* {
  box-sizing: border-box;
  font-family: 'Segoe UI', sans-serif;
}

body {
  margin: 0;
  height: 100vh;
  background:
    linear-gradient(rgba(255,154,158,0.55), rgba(250,208,196,0.55)),
    url("bg.jpg");
  background-size: cover;
  background-position: center;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* CARD */
.card {
  position: absolute;
  width: 380px;
  padding: 40px;
  border-radius: 26px;
  text-align: center;
  background:
    linear-gradient(rgba(255,255,255,0.88), rgba(255,255,255,0.88)),
    url("card-bg.jpg");
  background-size: cover;
  background-position: center;

  opacity: 0;
  pointer-events: none;
}

/* ACTIVE */
.card.active {
  opacity: 1;
  pointer-events: auto;
}

/* BUTTONS */
button {
  border: none;
  padding: 14px 26px;
  margin: 10px;
  font-size: 16px;
  border-radius: 999px;
  cursor: pointer;
}

.yes {
  background: #ff4d6d;
  color: white;
}
.heart-rain {
  position: fixed;
  top: -20px;
  font-size: 18px;
  pointer-events: none;
  animation: fall linear forwards;
}

@keyframes fall {
  to {
    transform: translateY(110vh);
    opacity: 0;
  }
}


.no {
  background: #eee;
  position: relative;
}
#fireworks {
  position: absolute;
  inset: 0;
  border-radius: 26px;
  pointer-events: none;
}


/* ANIMATIONS */
.fade { animation: fadeIn 0.5s ease; }
.slide { animation: slideIn 0.5s ease; }
.scale { animation: scaleIn 0.45s ease; }
.pop { animation: popIn 0.4s ease; }

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideIn {
  from { transform: translateY(40px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes scaleIn {
  from { transform: scale(0.85); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes popIn {
  from { transform: scale(0.6); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
</style>
</head>

<body>

<!-- CARD 1 -->
<div class="card active fade">
  <h1>üíñ Will you be my Valentine?</h1>
  <p>I made this little page just for you ‚ú®</p>
  <button class="yes" onclick="nextCard()">Yes üíï</button>
  <button class="no">No üôà</button>
</div>

<!-- CARD 2 -->
<div class="card slide">
  <h2>ü•∞ –ë–æ–ª–∑–æ–æ–Ω–¥ —Ö–∞–º—Ç —è–≤–∞—Ö —É—É?</h2>
  <button class="yes" onclick="nextCard()">–¢–∏–π–º üòç</button>
  <button class="no">“Æ–≥“Ø–π üò∂</button>
</div>

<!-- CARD 3 -->
<div class="card scale">
  <h2>üçø –ö–∏–Ω–æ —ç—Å–≤—ç–ª ‚òï –ö–æ—Ñ–µ?</h2>
  <button class="yes" onclick="nextCard()">–ö–∏–Ω–æ üé¨</button>
  <button class="yes" onclick="nextCard()">–ö–æ—Ñ–µ ‚òï</button>
</div>

<!-- CARD 4 -->
<div class="card pop" id="finalCard">
  <canvas id="fireworks"></canvas>
  <h2>üíò Yayyy!</h2>
  <p>”®–Ω”©”©–¥”©—Ä —á–∏–Ω—å –≥–æ—ë ”©–¥”©—Ä –±–∞–π–≥ üíñ</p>
</div>


<script>
let index = 0;
const cards = document.querySelectorAll('.card');

/* NEXT CARD */
function nextCard() {
  cards[index].classList.remove('active');
  index++;

  if (index < cards.length) {
    cards[index].classList.add('active');
  }
}

/* NO BUTTON ESCAPE */
document.querySelectorAll('.no').forEach(btn => {
  btn.addEventListener('mouseenter', () => {
    const x = Math.random() * 180 - 90;
    const y = Math.random() * 140 - 70;
    btn.style.transform = `translate(${x}px, ${y}px)`;
  });
});


/* CURSOR HEARTS */
document.addEventListener('mousemove', e => {
  const heart = document.createElement('div');
  heart.textContent = 'üíñ';
  heart.style.position = 'fixed';
  heart.style.left = e.clientX + 'px';
  heart.style.top = e.clientY + 'px';
  heart.style.pointerEvents = 'none';
  heart.style.fontSize = '14px';
  heart.style.animation = 'float 1.2s ease forwards';
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 1200);
});
let heartInterval;

function startHeartRain() {
  heartInterval = setInterval(() => {
    for (let i = 0; i < 6; i++) {   // ‚Üê –∏—Ö –±–æ–ª–≥–æ—Ö
      const heart = document.createElement('div');
      heart.className = 'heart-rain';
      heart.textContent = Math.random() > 0.5 ? 'üíñ' : 'üíó';

      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (Math.random() * 2 + 2) + 's';
      heart.style.fontSize = (Math.random() * 14 + 16) + 'px';

      document.body.appendChild(heart);

      setTimeout(() => heart.remove(), 5000);
    }
  }, 180); // ‚Üê —Ö—É—Ä–¥
}

function stopHeartRain() {
  clearInterval(heartInterval);
}

/* FINAL CARD –ò–î–≠–í–•–ñ–ò–•–≠–î */
const finalCard = document.getElementById('finalCard');

const heartObserver = new MutationObserver(() => {
  if (finalCard.classList.contains('active')) {
    startHeartRain();
  } else {
    stopHeartRain();
  }
});

heartObserver.observe(finalCard, {
  attributes: true,
  attributeFilter: ['class']
});

const style = document.createElement('style');
style.innerHTML = `
@keyframes float {
  from { transform: translateY(0); opacity: 1; }
  to { transform: translateY(-30px); opacity: 0; }
}`;
document.head.appendChild(style);

const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');

function resizeCanvas() {
  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

let particles = [];

function launchFirework() {
  const x = Math.random() * canvas.width;
  const y = Math.random() * canvas.height * 0.6;

  for (let i = 0; i < 30; i++) {
    particles.push({
      x, y,
      angle: Math.random() * Math.PI * 2,
      speed: Math.random() * 3 + 1,
      life: 60,
      color: `hsl(${Math.random() * 360},100%,70%)`
    });
  }
}

function animateFireworks() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  particles.forEach((p, i) => {
    p.x += Math.cos(p.angle) * p.speed;
    p.y += Math.sin(p.angle) * p.speed;
    p.life--;

    ctx.fillStyle = p.color;
    ctx.fillRect(p.x, p.y, 3, 3);

    if (p.life <= 0) particles.splice(i,1);
  });

  requestAnimationFrame(animateFireworks);
}
animateFireworks();

/* FIREWORKS START WHEN FINAL CARD SHOWS */
const observer = new MutationObserver(() => {
  if (document.getElementById('finalCard').classList.contains('active')) {
    for (let i = 0; i < 5; i++) {
      setTimeout(launchFirework, i * 400);
    }
  }
});

observer.observe(document.getElementById('finalCard'), {
  attributes: true,
  attributeFilter: ['class']
});


</script>

</body>
</html>
